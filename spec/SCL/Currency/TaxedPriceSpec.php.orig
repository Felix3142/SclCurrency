<?php

namespace spec\SCL\Currency;

use PhpSpec\ObjectBehavior;
use Prophecy\Argument;
use SCL\Currency\Money;
use SCL\Currency\Currency;

class TaxedPriceSpec extends ObjectBehavior
{
    private $amount;

    private $tax;

    public function let()
    {
        $currency = new Currency('GBP');

        $this->amount = new Money(10, $currency);
        $this->tax    = new Money(2, $currency);

        $this->beConstructedWith($this->amount, $this->tax);
    }

    public function it_stores_amount_value()
    {
        $this->getAmount()->shouldReturn($this->amount);
    }

    public function it_stores_tax_value()
    {
        $this->getTax()->shouldReturn($this->tax);
    }

    public function it_calculates_total()
    {
        $this->getTotal()->shouldBeLike(new Money(12, $currency));
    }
}
